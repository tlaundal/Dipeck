sudo: required
services:
  - docker

language: java

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
    # - .gradle
    # - frontend/.gradle
    # - frontend/node_modules
    # - integration-tests/.gradle
    # - integration-tests/node_modules
    # - notification/.gradle
    # - notification/node_modules
    # - request/.gradle
    # - request/build/envs

before_install:
  - sudo apt-get -qq update
  - sudo apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev

install:
  - true

script:
  - ./gradlew :dipeck_request:pipDependencies
  - bash -c "source ./request/build/envs/envPython36/bin/activate; which python; which pip; python -V; pip -V; cat $(which pip); ls -l ./request/build/envs/envPython36/lib/python3.6/site-packages"
